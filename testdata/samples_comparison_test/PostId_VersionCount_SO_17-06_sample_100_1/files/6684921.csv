Id;PostId;UserId;PostHistoryTypeId;RevisionGUID;CreationDate;Text;UserDisplayName;Comment
14603034;6684921;835739;2;d74f0773-dd15-4555-923c-365c093fdf59;2011-07-13 20:04:16.0;"You basically need to edit the resource model to include the fields you want to include. You can edit the resource in code, I'm not sure what version your using but in the Grid.php file you'll see the _prepareCollection find the code that looks like,&#xD;&#xA;&#xD;&#xA;    $collection = Mage::getResourceModel('sales/order_invoice_collection')&#xD;&#xA;    ->addAttributeToSelect('order_id')&#xD;&#xA;    ->addAttributeToSelect('increment_id')&#xD;&#xA;    ->addAttributeToSelect('created_at')&#xD;&#xA;    ->addAttributeToSelect('state')&#xD;&#xA;    ->addAttributeToSelect('grand_total') ...and so on!&#xD;&#xA;&#xD;&#xA;add the line &#xD;&#xA;&#xD;&#xA;    ->addAttributeToSelect('tax_amount')&#xD;&#xA;&#xD;&#xA;to that list and the you should be able to use&#xD;&#xA;&#xD;&#xA;    $this->addColumn('tax_amount', array(&#xD;&#xA;        'header'    => Mage::helper('sales')->__('Tax'),&#xD;&#xA;        'index'     => 'tax_amount',&#xD;&#xA;        'type'      => 'number',&#xD;&#xA;    ));&#xD;&#xA;&#xD;&#xA;This is as untest as I am away from my dev machine and dont have Mage to hand, but this should work or at very least point you in the right direction.";;
14604813;6684921;835739;5;6bb1811a-50a3-4a04-b9fa-b4a0a27168e5;2011-07-13 21:02:27.0;"You basically need to edit the resource model to include the fields you want to include. You can edit the resource in code, I'm not sure what version your using but in the Grid.php file you'll see the _prepareCollection find the code that looks like,&#xD;&#xA;&#xD;&#xA;    $collection = Mage::getResourceModel('sales/order_invoice_collection')&#xD;&#xA;    ->addAttributeToSelect('order_id')&#xD;&#xA;    ->addAttributeToSelect('increment_id')&#xD;&#xA;    ->addAttributeToSelect('created_at')&#xD;&#xA;    ->addAttributeToSelect('state')&#xD;&#xA;    ->addAttributeToSelect('grand_total') ...and so on!&#xD;&#xA;&#xD;&#xA;add the line &#xD;&#xA;&#xD;&#xA;    ->addAttributeToSelect('tax_amount')&#xD;&#xA;&#xD;&#xA;to that list and the you should be able to use&#xD;&#xA;&#xD;&#xA;    $this->addColumn('tax_amount', array(&#xD;&#xA;        'header'    => Mage::helper('sales')->__('Tax'),&#xD;&#xA;        'index'     => 'tax_amount',&#xD;&#xA;        'type'      => 'number',&#xD;&#xA;    ));&#xD;&#xA;&#xD;&#xA;This is as untest as I am away from my dev machine and dont have Mage to hand, but this should work or at very least point you in the right direction.&#xD;&#xA;&#xD;&#xA;Edit:&#xD;&#xA;&#xD;&#xA;Failing that you could try replacing your whole _prepareCollection&#xD;&#xA;&#xD;&#xA;    protected function _prepareCollection()&#xD;&#xA;    {&#xD;&#xA;&#xD;&#xA;    $collection = Mage::getResourceModel('sales/order_invoice_collection')&#xD;&#xA;    ->addAttributeToSelect('order_id')&#xD;&#xA;    ->addAttributeToSelect('increment_id')&#xD;&#xA;    ->addAttributeToSelect('created_at')&#xD;&#xA;    ->addAttributeToSelect('state')&#xD;&#xA;    ->addAttributeToSelect('grand_total')&#xD;&#xA;    ->addAttributeToSelect('tax_amount')&#xD;&#xA;    ->addAttributeToSelect('order_currency_code')&#xD;&#xA;    ->joinAttribute('billing_firstname', 'order_address/firstname', 'billing_address_id', null, 'left')&#xD;&#xA;    ->joinAttribute('billing_lastname', 'order_address/lastname', 'billing_address_id', null, 'left')&#xD;&#xA;    ->joinAttribute('order_increment_id', 'order/increment_id', 'order_id', null, 'left')&#xD;&#xA;    ->joinAttribute('order_created_at', 'order/created_at', 'order_id', null, 'left');&#xD;&#xA;&#xD;&#xA;    $this->setCollection($collection);&#xD;&#xA;    return parent::_prepareCollection();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;Again this is untested, from memory this is the _prepareCollection from the 1.3 range of magento so its a little old, but quite sure it should work.";;added 1140 characters in body
