Id;PostId;UserId;PostHistoryTypeId;RevisionGUID;CreationDate;Text;UserDisplayName;Comment
62453726;22957233;1650891;2;0d307a36-6d1d-4973-88ab-5e0398cb4316;2014-04-09 08:46:28.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?";;
62467514;22957233;1650891;5;49b391d5-328f-4916-9429-32ae10364f9d;2014-04-09 11:26:30.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;    {             &#xD;&#xA;                    ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                    CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                    attach = checkCV();&#xD;&#xA;   }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;        using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;        {&#xD;&#xA;           IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;            if (lstCandidateAttachment.Count > 0)&#xD;&#xA;            {&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                if (attach != null)&#xD;&#xA;                {&#xD;&#xA;                   return null;&#xD;&#xA;}&#xD;&#xA;    else&#xD;&#xA;    {&#xD;&#xA;    return ""some string"";&#xD;&#xA;    }";;added 1188 characters in body
62468133;22957233;1650891;5;b3572e9d-179c-40f2-a31d-46b11ec7b79a;2014-04-09 11:33:36.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;    {             &#xD;&#xA;                    ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                    CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                    attach = checkCV();&#xD;&#xA;         if(attach == null)&#xD;&#xA;         {&#xD;&#xA;           //insert new entry into table attach&#xD;&#xA;            session.save(attach);&#xD;&#xA;         }&#xD;&#xA;      }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;        using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;        {&#xD;&#xA;           IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;            if (lstCandidateAttachment.Count > 0)&#xD;&#xA;            {&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                if (attach != null)&#xD;&#xA;                {&#xD;&#xA;                   return null;&#xD;&#xA;                }&#xD;&#xA;                else&#xD;&#xA;                {&#xD;&#xA;                   return ""some string"";&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;What happening here is in the for loop if say for i=2 the attach value comes to null that I am entering new entry into attach table. Then for i=3 when it enters checkCV function I get an error at this line:&#xD;&#xA;&#xD;&#xA;> IList<CandidateAttachment> lstCandidateAttachment =&#xD;&#xA;> CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;&#xD;&#xA;I think it is because since I am using session.save and then trying to read the tabel contents I am unable to execute the query and table is locked till I commit my session.";;added 1188 characters in body
62468647;22957233;1650891;5;a3bd3df9-3926-4db4-a129-354344814c21;2014-04-09 11:39:38.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;    {             &#xD;&#xA;                    ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                    CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                    attach = checkCV();&#xD;&#xA;         if(attach == null)&#xD;&#xA;         {&#xD;&#xA;           //insert new entry into table attach&#xD;&#xA;            session.save(attach);&#xD;&#xA;         }&#xD;&#xA;      }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;        using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;        {&#xD;&#xA;           IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;            if (lstCandidateAttachment.Count > 0)&#xD;&#xA;            {&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                if (attach != null)&#xD;&#xA;                {&#xD;&#xA;                   return null;&#xD;&#xA;                }&#xD;&#xA;                else&#xD;&#xA;                {&#xD;&#xA;                   return ""some string"";&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;What happening here is in the for loop if say for i=2 the attach value comes to null that I am entering new entry into attach table. Then for i=3 when it enters checkCV function I get an error at this line:&#xD;&#xA;&#xD;&#xA;> IList<CandidateAttachment> lstCandidateAttachment =&#xD;&#xA;> CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;&#xD;&#xA;I think it is because since I am using session.save and then trying to read the tabel contents I am unable to execute the query and table is locked till I commit my session. Between the beginTransaction and commit, the table associated with the object is locked. How can I achieve my goal? Any Ideas?";;added 127 characters in body
62531936;22957233;1650891;5;097d9e31-7366-4788-a0e0-0403bbf005e3;2014-04-10 04:01:57.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    using (ITransaction tranx = session.BeginTransaction())&#xD;&#xA;    {&#xD;&#xA;       savefunction();&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;Save function:&#xD;&#xA;&#xD;&#xA;    public void savefunction()&#xD;&#xA;    {&#xD;&#xA;        for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;        {             &#xD;&#xA;                        ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                        CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                        attach = checkCV();&#xD;&#xA;             if(attach == null)&#xD;&#xA;             {&#xD;&#xA;               //insert new entry into table attach&#xD;&#xA;                session.save(attach);&#xD;&#xA;             }&#xD;&#xA;          }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;    public void checkCV()&#xD;&#xA;    {&#xD;&#xA;            using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;            {&#xD;&#xA;               IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;                if (lstCandidateAttachment.Count > 0)&#xD;&#xA;                {&#xD;&#xA;                    CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                    CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                    if (attach != null)&#xD;&#xA;                    {&#xD;&#xA;                       return null;&#xD;&#xA;                    }&#xD;&#xA;                    else&#xD;&#xA;                    {&#xD;&#xA;                       return ""some string"";&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;What happening here is in the for loop if say for i=2 the attach value comes to null that I am entering new entry into attach table. Then for i=3 when it enters checkCV function I get an error at this line:&#xD;&#xA;&#xD;&#xA;> IList<CandidateAttachment> lstCandidateAttachment =&#xD;&#xA;> CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;&#xD;&#xA;I think it is because since I am using session.save and then trying to read the tabel contents I am unable to execute the query and table is locked till I commit my session. Between the beginTransaction and commit, the table associated with the object is locked. How can I achieve my goal? Any Ideas?";;added 320 characters in body
62532700;22957233;1650891;5;2d419c64-2978-462d-babc-36c310bfc12e;2014-04-10 04:23:56.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    using (ITransaction tranx = session.BeginTransaction())&#xD;&#xA;    {&#xD;&#xA;       savefunction();&#xD;&#xA;       tranx.Commit();&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;Save function:&#xD;&#xA;&#xD;&#xA;    public void savefunction()&#xD;&#xA;    {&#xD;&#xA;        for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;        {             &#xD;&#xA;                        ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                        CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                        attach = checkCV();&#xD;&#xA;             if(attach == null)&#xD;&#xA;             {&#xD;&#xA;               //insert new entry into table attach&#xD;&#xA;                session.save(attach);&#xD;&#xA;             }&#xD;&#xA;          }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;    public void checkCV()&#xD;&#xA;    {&#xD;&#xA;            using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;            {&#xD;&#xA;               IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;                if (lstCandidateAttachment.Count > 0)&#xD;&#xA;                {&#xD;&#xA;                    CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                    if (attach != null)&#xD;&#xA;                    {&#xD;&#xA;                       return null;&#xD;&#xA;                    }&#xD;&#xA;                    else&#xD;&#xA;                    {&#xD;&#xA;                       return ""some string"";&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;What happening here is in the for loop if say for i=2 the attach value comes to null that I am entering new entry into attach table. Then for i=3 when it enters checkCV function I get an error at this line:&#xD;&#xA;&#xD;&#xA;> IList<CandidateAttachment> lstCandidateAttachment =&#xD;&#xA;> CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;&#xD;&#xA;I think it is because since I am using session.save and then trying to read the tabel contents I am unable to execute the query and table is locked till I commit my session. Between the beginTransaction and commit, the table associated with the object is locked. How can I achieve my goal? Any Ideas?";;added 24 characters in body
62541364;22957233;1650891;5;2453f938-b82a-491c-8b9e-20c33a5dc0f4;2014-04-10 07:08:41.0;"I have developed a WCF api which is using nHibernate. I am new to this. I have used session.update to take care of transaction. I have a for loop in which based on select condition I am updating a record ie. If A is present in tabel1 then I am updating the table else inserting a new entry.&#xD;&#xA;&#xD;&#xA;I am getting ""could not execute query."" when trying to execute a select query on a table which was previously being updated by adding a new entry in the table.&#xD;&#xA;&#xD;&#xA;What I think is, because I am using session.save(table1) and then trying select entries from that table I am getting an error. Since session.save temporarily locks the table I am not able to execute a select query on that table.&#xD;&#xA;&#xD;&#xA;What can be the solution on this?&#xD;&#xA;&#xD;&#xA;**Update**:&#xD;&#xA;This the for loop I am using to check in the database for some field: &#xD;&#xA;&#xD;&#xA;    using (ITransaction tranx = session.BeginTransaction())&#xD;&#xA;    {&#xD;&#xA;       savefunction();&#xD;&#xA;       tranx.Commit();&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;Save function:&#xD;&#xA;&#xD;&#xA;    public void savefunction()&#xD;&#xA;    {&#xD;&#xA;        for (int i = 0; i < dictionary.Count; i++)&#xD;&#xA;        {             &#xD;&#xA;                        ICandidateAttachmentManager candidateAttach = new ManagerFactory().GetCandidateAttachmentManager();&#xD;&#xA;                        CandidateAttachment attach = new CandidateAttachment();&#xD;&#xA;                        attach = checkCV();&#xD;&#xA;             if(attach == null)&#xD;&#xA;             {&#xD;&#xA;               //insert new entry into table attach&#xD;&#xA;                session.save(attach);&#xD;&#xA;             }&#xD;&#xA;          }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;checkCV function:&#xD;&#xA;&#xD;&#xA;    public void checkCV()&#xD;&#xA;    {&#xD;&#xA;            using (ICandidateAttachmentManager CandidateAttachmentManager = new ManagerFactory().GetCandidateAttachmentManager())&#xD;&#xA;            {&#xD;&#xA;               IList<CandidateAttachment> lstCandidateAttachment = CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;                if (lstCandidateAttachment.Count > 0)&#xD;&#xA;                {&#xD;&#xA;                    CandidateAttachment attach = lstCandidateAttachment.Where(x => x.CandidateAttachementType.Id.Equals(FileType)).FirstOrDefault();&#xD;&#xA;                    if (attach != null)&#xD;&#xA;                    {&#xD;&#xA;                       return null;&#xD;&#xA;                    }&#xD;&#xA;                    else&#xD;&#xA;                    {&#xD;&#xA;                       return ""some string"";&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;What happening here is in the for loop if say for i=2 the attach value comes to null that I am entering new entry into attach table. Then for i=3 when it enters checkCV function I get an error at this line:&#xD;&#xA;&#xD;&#xA;> IList<CandidateAttachment> lstCandidateAttachment =&#xD;&#xA;> CandidateAttachmentManager.GetByfkCandidateId(CandidateId);&#xD;&#xA;&#xD;&#xA;I think it is because since I am using session.save and then trying to read the tabel contents I am unable to execute the query and table is locked till I commit my session. Between the beginTransaction and commit, the table associated with the object is locked. How can I achieve this? Any Ideas?&#xD;&#xA;&#xD;&#xA;**Update:**&#xD;&#xA;I read up on some of the post. It looks like I need to set isolation level for the transaction. But even after adding it doesn't seem to work. Here is how I tried to inplement it:&#xD;&#xA;&#xD;&#xA;     using (ITransaction tranx = session.BeginTransaction(IsolationLevel.ReadUncommitted))&#xD;&#xA;     {&#xD;&#xA;         saveDocument();&#xD;&#xA;     }";;added 332 characters in body
